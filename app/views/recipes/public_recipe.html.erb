<%= render partial: 'shared/navigation' %>
<% if @public_recipes.blank? %>
  <p> There are no public recipes available </p>
  <button class= "rounded border-2 p-2 mt-4" >
    <%= link_to "Sign in to create a recipe", new_user_session_path %>
  </button>
  <% if can? :create, @recipe %>
    <div>
      <button class= "rounded border-2 p-2 mt-4">
        <%= link_to "Create new recipe", new_recipe_path(current_user) %>
      </button>
    </div>
  <% end %>
<%else%>
  <ul class="flex flex-col p-5">
    <% @public_recipes.each do |recipe|%>
      <div class="flex flex-row p-5 gap-5">
      <div class="border border-black w-1/6 h-20">
      </div>
      <div class = "border rounded border-black flex flex-row p-3 justify-between w-5/6">
        <div class="flex flex-col gap-2">
          <div class="flex flex-row justify-between">
            <%= link_to "#{recipe.recipe_name}", recipe_path(recipe.user, recipe)%>
            <h1><%= recipe.recipe_name %></h1>
            <h1><%= recipe.preparation_time %></h1>
            <h1><%= recipe.cooking_time %></h1>
          </div>
          <h1><%= recipe.description %></h1>
          <h1><%= recipe.public %></h1>
        </div>
        <p> want to see more recipes? </p>
          <button class= "rounded border-2 p-2 mt-4">
            <%= link_to "Sign in to create a recipe", new_user_session_path %>
          </button>
      </div>
      <% if can? :create, @recipe %>
        <div>
          <button class= "rounded border-2 p-2 mt-4">
            <%= link_to "Create new recipe", new_recipe_path(current_user) %>
          </button>
        </div>
      <% end %>
    <% end %>
  </ul>
<% end %>
